{"version":3,"sources":["components/App/App.module.css","components/Navigation/Navigation.js","components/AuthNav/AuthNav.js","components/UserMenu/user_avatar.png","components/UserMenu/UserMenu.js","components/AppBar/AppBar.js","components/Container/Container.js","components/PrivateRoute/PrivateRoute.js","components/PublicRoute/PublicRoute.js","components/App/App.js","redux/phonebook/reducers.js","redux/auth/auth-slice.js","redux/store.js","index.js","redux/auth/auth-action.js","redux/auth/auth-selectors.js","redux/phonebook/operations.js","redux/auth/auth-operations.js","components/AuthNav/AuthNav.module.css","components/Navigation/Navigation.module.css","components/UserMenu/UserMenu.module.css","redux/phonebook/actions.js","components/Container/Container.module.css"],"names":["module","exports","Navigation","isLoggedIn","useSelector","getIsLoggedIn","exact","to","className","s","navLink","activeClassName","activeLink","AuthNav","nav__container","UserMenu","name","getUserName","dispatch","useDispatch","user__container","src","alt","avatar","greeting__title","type","logout__btn","onClick","logOut","AppBar","header__style","Container","children","container","PrivateRoute","restricted","redirectTo","routeProps","PublicRoute","shouldRedirect","console","log","HomeView","lazy","SignUpView","LoginView","PhoneView","App","useEffect","fetchCurrentUser","fallback","path","contactList","createReducer","fetchContacts","fulfilled","_","payload","addContact","state","removeContact","filter","id","contactFilter","filterContacts","error","rejected","pending","authSlice","createSlice","initialState","user","email","token","extraReducers","registerSuccess","registerError","message","logIn","loginSuccess","loginError","persistConfig","key","storage","whitelist","contactReducer","combineReducers","store","configureStore","reducer","auth","persistReducer","contacts","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","concat","logger","persistor","persistStore","ReactDOM","render","StrictMode","loading","document","getElementById","registerRequest","createAction","loginRequest","axios","defaults","baseURL","createAsyncThunk","contact","a","rejectWithValue","post","data","get","contactId","delete","status","Error","BASE_URL","headers","common","Authorization","register","userData","then","response","catch","toast","thunkAPI","getState","persistedToken"],"mappings":"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","file":"static/js/main.9ce4dff1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"App_title__3F5Vl\",\"contactsTitle\":\"App_contactsTitle__2UW3c\"};","import { NavLink } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport s from './Navigation.module.css';\r\nimport { getIsLoggedIn } from '../../redux/auth/auth-selectors';\r\n\r\nconst Navigation = () => {\r\n  const isLoggedIn = useSelector(getIsLoggedIn);\r\n  return (\r\n    <nav>\r\n      <NavLink\r\n        exact\r\n        to=\"/\"\r\n        className={s.navLink}\r\n        activeClassName={s.activeLink}\r\n      >\r\n        Home\r\n      </NavLink>\r\n      {isLoggedIn && (\r\n        <NavLink\r\n          exact\r\n          to=\"/contacts\"\r\n          className={s.navLink}\r\n          activeClassName={s.activeLink}\r\n        >\r\n          Phonebook\r\n        </NavLink>\r\n      )}\r\n\r\n      <hr />\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navigation;\r\n","import { NavLink } from 'react-router-dom';\r\nimport s from './AuthNav.module.css';\r\n\r\nexport default function AuthNav() {\r\n  return (\r\n    <div className={s.nav__container}>\r\n      <NavLink\r\n        to=\"/signup\"\r\n        className={s.navLink}\r\n        activeClassName={s.activeLink}\r\n      >\r\n        SignUp\r\n      </NavLink>\r\n      <NavLink to=\"/login\" className={s.navLink} activeClassName={s.activeLink}>\r\n        LogIn\r\n      </NavLink>\r\n    </div>\r\n  );\r\n}\r\n","export default \"data:image/png;base64,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RVh0ZGF0ZTpjcmVhdGUAMjAyMS0wOS0wM1QwNjozNjoxOSswMDowMIEUp8sAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjEtMDktMDNUMDY6MzY6MTkrMDA6MDDwSR93AAAAIHRFWHRzb2Z0d2FyZQBodHRwczovL2ltYWdlbWFnaWNrLm9yZ7zPHZ0AAAAYdEVYdFRodW1iOjpEb2N1bWVudDo6UGFnZXMAMaf/uy8AAAAYdEVYdFRodW1iOjpJbWFnZTo6SGVpZ2h0ADUxMo+NU4EAAAAXdEVYdFRodW1iOjpJbWFnZTo6V2lkdGgANTEyHHwD3AAAABl0RVh0VGh1bWI6Ok1pbWV0eXBlAGltYWdlL3BuZz+yVk4AAAAXdEVYdFRodW1iOjpNVGltZQAxNjMwNjUwOTc5q3UBAQAAABN0RVh0VGh1bWI6OlNpemUAMTU4MDlCQnp1hRYAAABWdEVYdFRodW1iOjpVUkkAZmlsZTovLy4vdXBsb2Fkcy81Ni96NTRpeENCLzMxMzgvcHJvZmlsZV91c2VyX2F2YXRhcl9wZXJzb25faWNvbl8xOTI0ODEucG5n5Dne3wAAAABJRU5ErkJggg==\"","import defaultAvatar from './user_avatar.png';\r\nimport s from './UserMenu.module.css';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getUserName } from '../../redux/auth/auth-selectors';\r\n\r\nimport { logOut } from '../../redux/auth/auth-operations';\r\n\r\nexport default function UserMenu() {\r\n  const name = useSelector(getUserName);\r\n  const dispatch = useDispatch();\r\n\r\n  return (\r\n    <div className={s.user__container}>\r\n      <img src={defaultAvatar} alt={'default avatar'} className={s.avatar} />;\r\n      <span className={s.greeting__title}>Welcome, {name}!</span>\r\n      <button\r\n        type=\"button\"\r\n        className={s.logout__btn}\r\n        onClick={() => dispatch(logOut())}\r\n      >\r\n        LogOut\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","import { useSelector } from 'react-redux';\r\nimport Navigation from '../Navigation/Navigation';\r\nimport AuthNav from '../AuthNav/AuthNav';\r\nimport UserMenu from '../UserMenu/UserMenu';\r\nimport { getIsLoggedIn } from '../../redux/auth/auth-selectors';\r\nimport s from './AppBar.module.css';\r\n\r\nexport default function AppBar() {\r\n  const isLoggedIn = useSelector(getIsLoggedIn);\r\n\r\n  return (\r\n    <header className={s.header__style}>\r\n      <Navigation />\r\n      {isLoggedIn ? <UserMenu /> : <AuthNav />}\r\n    </header>\r\n  );\r\n}\r\n","import s from './Container.module.css';\n\nexport default function Container({ children }) {\n  return <div className={s.container}>{children}</div>;\n}\n","import { useSelector } from 'react-redux';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { getIsLoggedIn } from '../../redux/auth/auth-selectors';\r\n\r\nexport default function PrivateRoute({\r\n  children,\r\n  restricted,\r\n  redirectTo = '/',\r\n  ...routeProps\r\n}) {\r\n  const isLoggedIn = useSelector(getIsLoggedIn);\r\n  return (\r\n    <Route {...routeProps}>\r\n      {isLoggedIn ? children : <Redirect to={redirectTo} />}\r\n    </Route>\r\n  );\r\n}\r\n","import { useSelector } from 'react-redux';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { getIsLoggedIn } from '../../redux/auth/auth-selectors';\r\n\r\nexport default function PublicRoute({\r\n  children,\r\n  restricted = false,\r\n  redirectTo = '/',\r\n  ...routeProps\r\n}) {\r\n  const isLoggedIn = useSelector(getIsLoggedIn);\r\n  const shouldRedirect = isLoggedIn && restricted;\r\n  console.log(shouldRedirect);\r\n  return (\r\n    <Route {...routeProps}>\r\n      {shouldRedirect ? <Redirect to={redirectTo} /> : children}\r\n    </Route>\r\n  );\r\n}\r\n","import { Switch } from 'react-router-dom';\nimport { lazy, Suspense } from 'react';\nimport Loader from 'react-loader-spinner';\nimport AppBar from '../AppBar/AppBar';\nimport Container from '../Container/Container';\nimport { useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { fetchCurrentUser } from '../../redux/auth/auth-operations';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport './App.module.css';\nimport PrivateRoute from '../PrivateRoute/PrivateRoute';\nimport PublicRoute from '../PublicRoute/PublicRoute';\n\nconst HomeView = lazy(() =>\n  import('../../views/HomeView' /* webpackChunkName: \"home-view\" */),\n);\nconst SignUpView = lazy(() =>\n  import('../../views/SignUpView' /* webpackChunkName: \"sign-up-view\" */),\n);\n\nconst LoginView = lazy(() =>\n  import('../../views/LoginView' /* webpackChunkName: \"login-view\" */),\n);\n\nconst PhoneView = lazy(() =>\n  import('../../views/PhoneView' /* webpackChunkName: \"phone-view\" */),\n);\n\nexport default function App() {\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(fetchCurrentUser());\n  }, [dispatch]);\n\n  return (\n    <div className=\"Container\">\n      <AppBar />\n      <Container>\n        <Suspense fallback={<Loader />}>\n          <Switch>\n            <PublicRoute exact path=\"/\">\n              <HomeView />\n            </PublicRoute>\n            <PublicRoute exact path=\"/signup\" restricted>\n              <SignUpView />\n            </PublicRoute>\n            <PublicRoute exact path=\"/login\" restricted redirectTo=\"/contacts\">\n              <LoginView />\n            </PublicRoute>\n            <PrivateRoute path=\"/contacts\" redirectTo=\"/login\">\n              <PhoneView />\n            </PrivateRoute>\n          </Switch>\n        </Suspense>\n      </Container>\n      <ToastContainer />\n    </div>\n  );\n}\n","import { createReducer } from '@reduxjs/toolkit';\r\nimport { addContact, fetchContacts, removeContact } from './operations';\r\nimport { filterContacts } from './actions';\r\n\r\nexport const contactList = createReducer([], {\r\n  [fetchContacts.fulfilled]: (_, { payload }) => payload,\r\n  [addContact.fulfilled]: (state, { payload }) => [...state, payload],\r\n  [removeContact.fulfilled]: (state, { payload }) => {\r\n    return state.filter(({ id }) => id !== payload);\r\n  },\r\n});\r\n\r\nexport const contactFilter = createReducer('', {\r\n  [filterContacts]: (_, { payload }) => payload,\r\n});\r\n\r\nexport const error = createReducer(null, {\r\n  [addContact.rejected]: (_, { payload }) => payload,\r\n  [addContact.pending]: () => null,\r\n\r\n  [fetchContacts.rejected]: (_, { payload }) => payload,\r\n  [fetchContacts.pending]: () => null,\r\n\r\n  [removeContact.rejected]: (_, { payload }) => payload,\r\n  [removeContact.pending]: () => null,\r\n});\r\n","import { createSlice } from '@reduxjs/toolkit';\r\nimport { logIn, logOut, fetchCurrentUser } from './auth-operations';\r\nimport {\r\n  loginSuccess,\r\n  loginError,\r\n  registerSuccess,\r\n  registerError,\r\n} from './auth-action';\r\n\r\nconst initialState = {\r\n  user: { name: null, email: null },\r\n  token: null,\r\n  isLoggedIn: false,\r\n  // isFetchCurrentUser: false,\r\n  error: null,\r\n};\r\n\r\nconst authSlice = createSlice({\r\n  name: 'auth',\r\n  initialState,\r\n  extraReducers: {\r\n    [registerSuccess](state, { payload }) {\r\n      state.user = payload.user;\r\n      state.token = payload.token;\r\n      state.isLoggedIn = true;\r\n    },\r\n\r\n    [registerError](state, { payload }) {\r\n      state.error = payload.message;\r\n    },\r\n\r\n    [logIn.fulfilled](state, { payload }) {\r\n      state.user = payload.user;\r\n      state.token = payload.token;\r\n      state.isLoggedIn = true;\r\n    },\r\n\r\n    [logOut.fulfilled](state, _) {\r\n      state.user = { name: null, email: null };\r\n      state.token = null;\r\n      state.isLoggedIn = false;\r\n    },\r\n\r\n    [fetchCurrentUser.fulfilled](state, { payload }) {\r\n      state.user = payload;\r\n      state.isLoggedIn = true;\r\n    },\r\n\r\n    [loginSuccess](state, { payload }) {\r\n      state.user = payload.user;\r\n      state.token = payload.token;\r\n      state.isLoggedIn = true;\r\n    },\r\n    [loginError](state, { payload }) {\r\n      state.error = payload.message;\r\n    },\r\n  },\r\n});\r\n\r\nexport default authSlice.reducer;\r\n","import { combineReducers } from 'redux';\r\nimport { configureStore } from '@reduxjs/toolkit';\r\nimport { contactList, contactFilter, error } from './phonebook/reducers';\r\nimport authSlice from './auth/auth-slice';\r\n\r\nimport logger from 'redux-logger';\r\n\r\nimport {\r\n  persistStore,\r\n  persistReducer,\r\n  FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER,\r\n} from 'redux-persist';\r\n\r\nimport storage from 'redux-persist/lib/storage';\r\n\r\nconst persistConfig = {\r\n  key: 'auth',\r\n  storage,\r\n  whitelist: ['token'],\r\n};\r\n\r\nconst contactReducer = combineReducers({\r\n  contactList,\r\n  contactFilter,\r\n  error,\r\n});\r\n\r\nexport const store = configureStore({\r\n  reducer: {\r\n    auth: persistReducer(persistConfig, authSlice),\r\n    contacts: contactReducer,\r\n  },\r\n\r\n  middleware: getDefaultMiddleware =>\r\n    getDefaultMiddleware({\r\n      serializableCheck: {\r\n        ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n      },\r\n    }).concat(logger),\r\n});\r\n\r\nexport const persistor = persistStore(store);\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport App from './components/App';\nimport { store, persistor } from './redux/store';\nimport './index.css';\nimport { PersistGate } from 'redux-persist/integration/react';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <PersistGate loading={null} persistor={persistor}>\n        <Router>\n          <App />\n        </Router>\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n//\n","import { createAction } from '@reduxjs/toolkit';\r\n\r\nexport const registerRequest = createAction('auth/registerRequest');\r\nexport const registerSuccess = createAction('auth/registerSuccess');\r\nexport const registerError = createAction('auth/registerError');\r\n\r\nexport const loginRequest = createAction('auth/loginRequest');\r\nexport const loginSuccess = createAction('auth/loginSuccess');\r\nexport const loginError = createAction('auth/loginError');\r\n","export const getIsLoggedIn = state => state.auth.isLoggedIn;\r\n\r\nexport const getUserName = state => state.auth.user.name;\r\n\r\nexport const errorRejected = state => state.auth.error;\r\n","import axios from 'axios';\r\nimport { createAsyncThunk } from '@reduxjs/toolkit';\r\n\r\naxios.defaults.baseURL = 'https://connections-api.herokuapp.com';\r\n\r\nexport const addContact = createAsyncThunk(\r\n  'contacts/addContacts',\r\n  async (contact, { rejectWithValue }) => {\r\n    try {\r\n      const { data } = await axios.post(`/contacts`, contact);\r\n      return data;\r\n    } catch (error) {\r\n      rejectWithValue(error.message);\r\n    }\r\n  },\r\n);\r\n\r\nexport const fetchContacts = createAsyncThunk(\r\n  'contacts/fetchContacts',\r\n  async (_, { rejectWithValue }) => {\r\n    try {\r\n      const { data } = await axios.get(`/contacts`);\r\n      return data;\r\n    } catch (error) {\r\n      rejectWithValue(error.message);\r\n    }\r\n  },\r\n);\r\n\r\n// export const removeContact = createAsyncThunk(\r\n//   'contacts/removeContact',\r\n//   async (contactId, { rejectWithValue }) => {\r\n//     console.log(contactId);\r\n//     try {\r\n//       const {\r\n//         data: { id },\r\n//       } = await axios.delete(`/contacts/${contactId}`);\r\n//       return contactId;\r\n//     } catch (error) {\r\n//       rejectWithValue(error.message);\r\n//     }\r\n//   },\r\n// );\r\n\r\nexport const removeContact = createAsyncThunk(\r\n  'contacts/removeContact',\r\n  async (contactId, { rejectWithValue }) => {\r\n    try {\r\n      const response = await axios.delete(`/contacts/${contactId}`);\r\n      if (response.status === 200) {\r\n        return contactId;\r\n      } else {\r\n        throw new Error({ message: 'error' });\r\n      }\r\n    } catch (error) {\r\n      rejectWithValue(error.message);\r\n    }\r\n  },\r\n);\r\n","import axios from 'axios';\r\nimport { createAsyncThunk } from '@reduxjs/toolkit';\r\nimport {\r\n  loginRequest,\r\n  loginSuccess,\r\n  loginError,\r\n  registerRequest,\r\n  registerSuccess,\r\n  registerError,\r\n} from './auth-action';\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nexport const BASE_URL = 'https://connections-api.herokuapp.com';\r\n\r\nconst token = {\r\n  set(token) {\r\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\r\n  },\r\n  unset() {\r\n    axios.defaults.headers.common.Authorization = '';\r\n  },\r\n};\r\n\r\nexport const register = userData => dispatch => {\r\n  dispatch(registerRequest());\r\n  axios\r\n    .post(`${BASE_URL}/users/signup`, userData)\r\n    .then(response => {\r\n      token.set(response.data.token);\r\n      dispatch(registerSuccess(response.data));\r\n    })\r\n    .catch(error => {\r\n      dispatch(registerError(error.message));\r\n      toast.error(error.message);\r\n    });\r\n};\r\n\r\nexport const logIn = userData => dispatch => {\r\n  dispatch(loginRequest());\r\n  axios\r\n    .post(`${BASE_URL}/users/login`, userData)\r\n    .then(response => {\r\n      token.set(response.data.token);\r\n      dispatch(loginSuccess(response.data));\r\n    })\r\n    .catch(error => {\r\n      dispatch(loginError(error.message));\r\n      toast.error(error.message);\r\n    });\r\n};\r\n\r\nexport const logOut = createAsyncThunk(\r\n  'auth/logout',\r\n  async (_, { rejectWithValue }) => {\r\n    try {\r\n      await axios.post(`${BASE_URL}/users/logout`);\r\n      token.unset();\r\n    } catch (error) {\r\n      rejectWithValue(error);\r\n    }\r\n  },\r\n);\r\n\r\nexport const fetchCurrentUser = createAsyncThunk(\r\n  'auth/refresh',\r\n  async (_, thunkAPI) => {\r\n    const state = thunkAPI.getState();\r\n    const persistedToken = state.auth.token;\r\n\r\n    if (!persistedToken) {\r\n      console.log('No token');\r\n      return thunkAPI.rejectWithValue();\r\n    }\r\n    token.set(persistedToken);\r\n    try {\r\n      const { data } = await axios.get('/users/current');\r\n      return data;\r\n    } catch (error) {\r\n      thunkAPI.rejectWithValue(error);\r\n    }\r\n  },\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navLink\":\"AuthNav_navLink__26dKn\",\"activeNavLink\":\"AuthNav_activeNavLink__1gQZp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navLink\":\"Navigation_navLink__3Qbnf\",\"activeNavLink\":\"Navigation_activeNavLink__3Cu2L\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"UserMenu_container__1A0p1\",\"avatar\":\"UserMenu_avatar__34Ddq\",\"name\":\"UserMenu_name__3njfD\"};","import { createAction } from '@reduxjs/toolkit';\r\n\r\nexport const filterContacts = createAction('contact/filter');\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__38YkL\"};"],"sourceRoot":""}